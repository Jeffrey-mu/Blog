(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{500:function(s,e,n){"use strict";n.r(e);var a=n(13),t=Object(a.a)({},(function(){var s=this,e=s.$createElement,n=s._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"【linux环境上安装和升级node】"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#【linux环境上安装和升级node】"}},[s._v("#")]),s._v(" 【Linux环境上安装和升级Node】")]),s._v(" "),n("h2",{attrs:{id:"linux环境安装node"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#linux环境安装node"}},[s._v("#")]),s._v(" Linux环境安装Node")]),s._v(" "),n("blockquote",[n("p",[s._v("直接使用已编译好的包进行安装")])]),s._v(" "),n("p",[n("code",[s._v("Node")]),s._v(" 官网已经把 "),n("code",[s._v("linux")]),s._v(" 下载版本更改为已编译好的版本了，我们可以直接下载解压后使用：")]),s._v(" "),n("p",[s._v("[node.js官网下载地址]")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /usr/local/src/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# wget https://nodejs.org/dist/v14.16.1/node-v14.16.1-linux-x64.tar.xz    // 下载")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tar xf node-v14.16.1-linux-x64.tar.xz         // 解压")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd node-v14.16.1-linux-x64/                   // 进入解压目录")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./bin/node -v                                 // 执行node命令 查看版本")]),s._v("\nv14.16.1\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("解压文件的 bin 目录底下包含了 node、npm 等命令，我们可以使用 ln 命令来设置软连接：")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ln -s /usr/local/src/node-v14.16.1-linux-x64/bin/node /usr/bin/node")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# node -v")]),s._v("\nv14.16.1\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ln -s /usr/local/src/node-v14.16.1-linux-x64/bin/npm /usr/bin/npm")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# npm -v")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.14")]),s._v(".12\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h2",{attrs:{id:"linux环境升级node"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#linux环境升级node"}},[s._v("#")]),s._v(" Linux环境升级Node")]),s._v(" "),n("blockquote",[n("p",[s._v("使用 n 模块来管理 node 的各种版本")])]),s._v(" "),n("p",[s._v("查看当前 node 版本")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("node")]),s._v(" -v\nv8.1.4 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#初始node版本")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"_1、通过-npm-安装-n"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1、通过-npm-安装-n"}},[s._v("#")]),s._v(" 1、通过 npm 安装 n：")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -g n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"_2、通过-n-安装指定版本"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2、通过-n-安装指定版本"}},[s._v("#")]),s._v(" 2、通过 n 安装指定版本:")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("$ n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.11")]),s._v(".2\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"_3、再查看当前-node-版本"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3、再查看当前-node-版本"}},[s._v("#")]),s._v(" 3、再查看当前 node 版本：")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("node")]),s._v(" -v\nv8.1.4 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#和原来一样")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h2",{attrs:{id:"升级异常"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#升级异常"}},[s._v("#")]),s._v(" 升级异常")]),s._v(" "),n("p",[s._v("如果你跟我一样，发现 node 版本没有任何变化，那最有可能的情况就是，你的node的安装目录和 n 默认的路径不一样。")]),s._v(" "),n("p",[s._v("查看 node 当前安装路径：")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("node")]),s._v("\n/opt/node/bin/node "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#举个例子")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("而 "),n("code",[s._v("n")]),s._v(" 默认安装路径是 "),n("code",[s._v("/usr/local")]),s._v("，若你的 "),n("code",[s._v("node")]),s._v(" 不是在此路径下，"),n("code",[s._v("n")]),s._v(" 切换版本就不能把"),n("code",[s._v("bin、lib、include、share")]),s._v(" 复制该路径中，所以我们必须通过 "),n("code",[s._v("N_PREFIX")]),s._v("变量来修改 "),n("code",[s._v("n")]),s._v(" 的默认"),n("code",[s._v("node")]),s._v("安装路径。\n编辑环境配置文件：")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" ~/.bash_profile\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("将下面两行代码插入到文件末尾：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("export N_PREFIX=/opt/node #node实际安装位置\nexport PATH=$N_PREFIX/bin:$PATH\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[n("code",[s._v(":wq")]),s._v(" 保存退出；")]),s._v(" "),n("p",[s._v("执行"),n("code",[s._v("source")]),s._v("使修改生效。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("$ source ~/.bash_profile\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("确认一下环境变量是否生效：")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$N_PREFIX")]),s._v("\n/opt/node\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("这时候我们需要重新安装：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("$ n 8.11.2\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("再查看当前 node 版本")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("node")]),s._v(" -v\nv8.11.2\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])])])}),[],!1,null,null,null);e.default=t.exports}}]);